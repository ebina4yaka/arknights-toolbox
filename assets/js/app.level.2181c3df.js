(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app.level"],{"2f6b":function(t,e,i){"use strict";i("8293")},"59e7":function(t,e,i){},"73e0":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"arkn-level"}},[i("div",{staticClass:"mdui-row"},[i("div",{staticClass:"mdui-col-md-5"},[i("table",{staticClass:"mdui-table tag-table",staticStyle:{"overflow-x":"hidden"},attrs:{id:"input-table"}},[i("tbody",[t._l(t.inputs.list,(function(e,a){return[i("tr",{key:a,attrs:{"data-index":a}},[i("td",{attrs:{width:"1"}}),i("td",{staticClass:"mdui-valign"},[i("div",{staticClass:"number-select with-label mdui-m-r-3"},[i("label",{staticClass:"mdui-textfield-label"},[t._v(t._s(t.$t("common.stars")))]),i("mdui-select-num",{staticClass:"mdui-select-width-100p",attrs:{options:t.$_.range(6,0),"mdui-options":{gutter:72}},on:{change:function(i){return t.updateSelect(e,a)}},model:{value:e.star,callback:function(i){t.$set(e,"star",i)},expression:"item.star"}})],1),i("div",{staticClass:"with-label mdui-m-r-3"},[i("label",{staticClass:"mdui-textfield-label"},[t._v(t._s(t.$tt("level.经验本")))]),i("span",[t._v("LS-5")])]),i("div",{staticClass:"with-label"},[i("label",{staticClass:"mdui-textfield-label"},[t._v(t._s(t.$tt("level.金币本")))]),i("span",[t._v("CE-5")])])])]),i("tr",{key:a,attrs:{"data-index":a}},[i("td",{attrs:{width:"1"}},[i("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[t._v(t._s(t.$t("common.current")))])]),i("td",{staticClass:"mdui-valign"},[i("div",{staticClass:"number-select with-label mdui-m-r-3"},[i("label",{staticClass:"mdui-textfield-label"},[t._v(t._s(t.$t("common.promotion")))]),i("mdui-select-num",{staticClass:"mdui-select-width-100p select-need-update",attrs:{options:t.$_.range(0,t.maxElite[e.star-1]+1)},on:{change:function(i){return t.updateSelect(e,a)}},model:{value:e.current.elite,callback:function(i){t.$set(e.current,"elite",i)},expression:"item.current.elite"}})],1),i("div",{staticClass:"mdui-m-r-2 input-with-button"},[i("mdui-number-input",{model:{value:e.current.level,callback:function(i){t.$set(e.current,"level",t._n(i))},expression:"item.current.level"}},[t._v(t._s(t.$t("common.level")))]),i("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkText,expression:"$root.color.pinkText"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense small-btn mdui-p-x-1",on:{click:function(t){e.current.level=999}}},[t._v(t._s(t.$t("common.max")))])],1),i("mdui-number-input",{staticStyle:{"flex-grow":"1","max-width":"80px"},model:{value:e.current.exp,callback:function(i){t.$set(e.current,"exp",t._n(i))},expression:"item.current.exp"}},[t._v(t._s(t.$t("common.exp")))])],1)]),i("tr",{key:a,attrs:{"data-index":a}},[i("td",{attrs:{width:"1"}},[i("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[t._v(t._s(t.$t("common.target")))])]),i("td",{staticClass:"mdui-valign"},[i("div",{staticClass:"number-select with-label mdui-m-r-3"},[i("label",{staticClass:"mdui-textfield-label"},[t._v(t._s(t.$t("common.promotion")))]),i("mdui-select-num",{staticClass:"mdui-select-width-100p select-need-update",attrs:{options:t.$_.range(e.current.elite,t.maxElite[e.star-1]+1)},on:{change:function(i){return t.updateSelect(e,a)}},model:{value:e.target.elite,callback:function(i){t.$set(e.target,"elite",i)},expression:"item.target.elite"}})],1),i("div",{staticClass:"input-with-button"},[i("mdui-number-input",{model:{value:e.target.level,callback:function(i){t.$set(e.target,"level",t._n(i))},expression:"item.target.level"}},[t._v(t._s(t.$t("common.level")))]),i("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.pinkText,expression:"$root.color.pinkText"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense small-btn mdui-p-x-1",on:{click:function(t){e.target.level=999}}},[t._v(t._s(t.$t("common.max")))])],1),i("div",{staticClass:"input-actions"},[i("button",{staticClass:"mdui-btn mdui-btn-icon mdui-btn-dense mdui-ripple",on:{click:function(e){return t.addItem(a)}}},[i("i",{staticClass:"mdui-icon material-icons"},[t._v("add")])]),t.inputs.list.length>1?i("button",{staticClass:"mdui-btn mdui-btn-icon mdui-btn-dense mdui-ripple",on:{click:function(e){return t.removeItem(a)}}},[i("i",{staticClass:"mdui-icon material-icons"},[t._v("remove")])]):t._e()])])]),t.inputs.list.length>1?i("tr",{key:a},[t._m(0,!0)]):t._e()]})),i("tr",[i("td",{attrs:{width:"1"}},[i("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.tagBtnHead,expression:"$root.color.tagBtnHead"}],staticClass:"mdui-btn mdui-btn-dense no-pe tag-btn tag-table-header"},[t._v(t._s(t.$t("common.owned")))])]),i("td",{staticClass:"mdui-valign",style:{marginRight:"-16px",marginBottom:"-8px"}},[t._l(t.$_.range(5,1),(function(e){return i("div",{key:"have-"+e,staticClass:"mdui-m-r-2 mdui-m-b-1 mdui-valign"},[i("arkn-item",{attrs:{t:e,img:t.k2i(e)}}),i("mdui-number-input",{staticClass:"exp-input",model:{value:t.inputs.have[e],callback:function(i){t.$set(t.inputs.have,e,t._n(i))},expression:"inputs.have[i]"}},[t._v(t._s(t.$t("item."+t.expId[e-2])))])],1)})),i("div",{staticClass:"mdui-m-r-2 mdui-m-b-1 mdui-valign"},[i("arkn-item",{attrs:{t:"4",img:"4001"}}),i("mdui-number-input",{staticClass:"exp-input",staticStyle:{width:"80px"},model:{value:t.inputs.money,callback:function(e){t.$set(t.inputs,"money",t._n(e))},expression:"inputs.money"}},[t._v(t._s(t.$t("item.4001")))])],1)],2)]),i("tr",[i("td",{attrs:{colspan:"2"}},[i("button",{directives:[{name:"theme-class",rawName:"v-theme-class",value:t.$root.color.redBtn,expression:"$root.color.redBtn"}],staticClass:"mdui-btn mdui-ripple mdui-btn-dense tag-btn",on:{click:t.reset}},[t._v(t._s(t.$t("common.reset")))])])])],2)])]),i("div",{staticClass:"mdui-col-md-7 mdui-p-x-2 mdui-typo"},[i("h2",{staticClass:"mdui-hidden-sm-down mdui-m-t-0"},[t._v(t._s(t.$tt("level.物资筹备")))]),i("h2",{staticClass:"mdui-hidden-md-up"},[t._v(t._s(t.$tt("level.物资筹备")))]),i("h3",{staticClass:"mdui-m-t-0"},[t._v("LS-5 "),i("small",[t._v("× "+t._s(t.result.ls5))])]),i("div",{staticClass:"num-item-list"},[i("arkn-num-item",{attrs:{t:"0",img:"AP_GAMEPLAY",lable:t.$t("item.AP_GAMEPLAY"),num:30*t.result.ls5,format:!0}}),t._l(t.$_.range(5,2),(function(e){return i("arkn-num-item",{key:"ls5-"+e,attrs:{t:e,img:t.k2i(e),lable:t.$t("item."+t.expId[e-2]),num:t.result.ls5*t.LS5.drop[e],format:!0}})})),i("arkn-num-item",{attrs:{t:"4",img:"4001",lable:t.$t("item.4001"),num:t.result.ls5*t.LS5.money,format:!0}})],2),i("h3",[t._v("CE-5 "),i("small",[t._v("× "+t._s(t.result.ce5))])]),i("div",{staticClass:"num-item-list"},[i("arkn-num-item",{attrs:{t:"0",img:"AP_GAMEPLAY",lable:t.$t("item.AP_GAMEPLAY"),num:30*t.result.ce5,format:!0}}),i("arkn-num-item",{attrs:{t:"4",img:"4001",lable:t.$t("item.4001"),num:t.result.ce5*t.CE5.money,format:!0}})],1),i("h2",[t._v(t._s(t.$tt("level.预计消耗")))]),i("div",{staticClass:"num-item-list"},[i("arkn-num-item",{attrs:{t:"4",img:"4001",lable:t.$t("item.4001"),num:t.result.cost,format:!0}}),i("arkn-num-item",{attrs:{t:"5",img:"5001",lable:t.$t("common.exp"),num:t.result.exp,format:!0}}),t._l(t.$_.range(5,1),(function(e){return i("arkn-num-item",{directives:[{name:"show",rawName:"v-show",value:t.result.use[e],expression:"result.use[i]"}],key:"num-item-"+e,attrs:{t:e,img:t.k2i(e),lable:t.$t("item."+t.expId[e-2]),num:t.result.use[e],format:!0}})}))],2)])])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("td",{staticClass:"hr mdui-typo",attrs:{colspan:"2"}},[i("hr")])}],s=i("b85c"),l=(i("d81d"),i("159b"),i("07ac"),i("a434"),i("8679")),r=i("b4ac"),u=i("60bb"),m=i.n(u),c=i("29d9"),o=i("f52e"),d=i("9a9a"),p=new c["a"]("level"),v={5:2e3,4:1e3,3:400,2:200},h={exp:7400,drop:{5:3,4:1,3:1,2:0},money:360},b={money:7500},f={star:6,current:{elite:0,level:1,exp:0},target:{elite:0,level:1}},g={list:[f],have:{5:0,4:0,3:0,2:0},money:0};function _(t){return Math.max(t,0)}var x={name:"arkn-level",components:{ArknItem:l["a"],ArknNumItem:r["a"]},data:function(){return{inputs:m.a.cloneDeep(g),expId:["2001","2002","2003","2004"],maxElite:m.a.map(d["c"],(function(t){return t.length})),maxLevel:d["d"],LS5:h,CE5:b}},watch:{inputs:{handler:function(t){var e=t.list;e.forEach((function(t){for(var e=0,i=["current","target"];e<i.length;e++){var a=i[e],n="".concat(a,".level"),s=m.a.get(t,n);if(""!==s){var l=d["d"][t.star-1][t[a].elite];s<1?m.a.set(t,n,1):s>l&&m.a.set(t,n,l)}}var r=t.current;if(r.exp){r.exp<0&&(r.exp=0);var u=d["a"][r.elite][(r.level||1)-1]||1;r.exp>=u&&(r.exp=u-1)}})),m.a.each(t.have,(function(t,e,i){t&&t<0&&(i[e]=0)})),p.setItem("inputs",t)},deep:!0}},computed:{result:function(){var t=this.inputs,e=t.list,i=t.have,a=t.money,n=m.a.sum(m.a.map(i,(function(t,e){return t*v[e]}))),l=0,r=0,u=[],c={5:0,4:0,3:0,2:0};e.forEach((function(t){var e=t.star,i=t.current,a=t.target;if(a.elite>i.elite||a.level>i.level){var n=d["d"][e-1],s=d["a"][i.elite][i.level-1];if(s){var m=s-i.exp,c=m/s*d["b"][i.elite][i.level-1];l+=m,r+=c}for(var o=i.elite;o<=a.elite;o++,u.push(l)){o>i.elite&&(r+=d["c"][e-1][o-1]);for(var p=o==a.elite?a.level:n[o],v=o==i.elite?i.level+1:1;v<p;v++)l+=d["a"][o][v-1],r+=d["b"][o][v-1]}}}));var o=_(Math.ceil((l-n)/h.exp));if(u.length>0){m.a.forEachRight(u,(function(t,e,i){e>0&&(i[e]-=i[e-1])}));var p,f=m.a.mapValues(h.drop,(function(t,e){return i[e]+t*o})),g=Object(s["a"])(u);try{for(g.s();!(p=g.n()).done;){var x=p.value;while(x>0){0==m.a.sum(Object.values(f))&&(o++,f=m.a.cloneDeep(h.drop));for(var $=5;$>=2;$--)while(x>=v[$]&&f[$]>0)c[$]++,f[$]--,x-=v[$];for(var C=2;C<=5;C++)while(x>0&&f[C]>0)c[C]++,f[C]--,x-=v[C]}}}catch(k){g.e(k)}finally{g.f()}}var w=_(Math.ceil((r-o*h.money-a)/b.money));return{exp:l,cost:Math.ceil(r),ls5:o,ce5:w,use:c,have:m.a.mapValues(h.drop,(function(t,e){return i[e]+t*o}))}}},methods:{ge0:_,updateSelect:function(t,e){var i=this,a=t.star,n=t.current,s=t.target,l=this.maxElite[a-1];n.elite>l&&(n.elite=l),s.elite>l&&(s.elite=l),n.elite>s.elite&&(s.elite=n.elite),this.$nextTick((function(){return i.$$("tr[data-index='".concat(e,"'] .select-need-update")).each((function(t,e){return new i.$Select(e).handleUpdate()}))}))},reset:function(){var t=this;this.inputs=m.a.cloneDeep(g),this.$nextTick((function(){return t.$$(".select-need-update").each((function(e,i){return new t.$Select(i).handleUpdate()}))}))},k2i:function(t){return t+1999},addItem:function(t){this.inputs.list.splice(t+1,0,m.a.cloneDeep(f)),this.$mutationNextTick("tr[data-index='".concat(t+1,"']"))},removeItem:function(t){this.inputs.list.splice(t,1)}},created:function(){var t=this;(function(e){e&&(t.inputs=Object(o["a"])(t.inputs,e))})(p.getItem("inputs"))}},$=x,C=(i("840d"),i("0c7c")),w=Object(C["a"])($,a,n,!1,null,null,null);e["default"]=w.exports},8293:function(t,e,i){},"840d":function(t,e,i){"use strict";i("ca60")},8679:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("img",{staticClass:"arkn-item mdui-m-r-1 no-sl no-pe",style:{width:t.widthCss,height:t.widthCss},attrs:{src:t.$root.materialImage(t.img),crossorigin:"anonymous"},on:{error:t.handleImgErr}})},n=[],s=(i("a9e3"),{name:"arkn-item",props:{img:String,width:{type:[Number,String],default:48}},computed:{widthCss:function(){return"number"===typeof this.width?"".concat(this.width,"px"):this.width}},methods:{handleImgErr:function(t){t.target.src=this.$root.avatar("no_image"),t.target.style.backgroundColor="#bdbdbd",t.target.style.borderRadius="50%"}}}),l=s,r=(i("2f6b"),i("0c7c")),u=Object(r["a"])(l,a,n,!1,null,"d0f648b6",null);e["a"]=u.exports},9541:function(t,e,i){"use strict";i("59e7")},b4ac:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"num-item"},[i("div",{staticClass:"mdui-valign"},[i("arkn-item",{attrs:{img:t.img,width:t.width}}),i("div",{staticClass:"num-item-text with-label",class:t.color},[i("label",{staticClass:"mdui-textfield-label mdui-text-truncate"},[t._v(t._s(t.lable))]),t.hasNum?i("span",[t._v(t._s(t.format?t.$formatter.number.format(t.num):t.num))]):i("span",[t._t("default")],2)])],1)])},n=[],s=(i("a9e3"),i("8679")),l={name:"arkn-num-item",components:{ArknItem:s["a"]},props:{img:String,lable:String,num:[Number,String],width:Number,color:[String,Boolean],format:Boolean},computed:{hasNum:function(){return"undefined"!==typeof this.num}}},r=l,u=(i("9541"),i("0c7c")),m=Object(u["a"])(r,a,n,!1,null,null,null);e["a"]=m.exports},ca60:function(t,e,i){}}]);